<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antimatter Dimensions NG+Boost</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Roboto Mono', monospace;
            text-align: center;
            margin: 20px;
            background-color: #202020;
            color: white;
        }
        h1, h2 {
            margin-bottom: 20px;
        }
        .number {
            font-weight: bold;
            font-size: 2em;
        }
        .dimension {
            margin: 10px 0;
            padding: 10px;
            background-color: #333;
            border: 1px solid #555;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .dimension.disabled {
            background-color: #555;
            cursor: not-allowed;
        }
        .dimension:hover:not(.disabled) {
            background-color: #444;
        }
        #am-per-second {
            font-size: 0.5em;
            color: gray;
        }
        #infinity-button {
            display: none;
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: gold;
            color: black;
            border: none;
            cursor: pointer;
        }
        #infinity-tab {
            display: none;
            margin-top: 20px;
        }
        #infinity-tab h2 {
            margin-bottom: 10px;
        }
        #infinity-tab button {
            margin: 10px;
            padding: 10px;
            background-color: #444;
            color: white;
            border: none;
            cursor: pointer;
        }
        #infinity-tab button.disabled {
            background-color: #777;
            cursor: not-allowed;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/10.3.1/decimal.min.js"></script>
</head>
<body>
    <h1>Antimatter Dimensions NG+Boost</h1>
    
    <div id="counter">You have <span class="number">10.0</span> antimatter</div>
    <div id="am-per-second">You are gaining 0.0 antimatter per second.</div>

    <div id="tickspeed-upgrade" class="dimension" onclick="buyTickspeedUpgrade()">Tickspeed Upgrade (Cost: 1,000 | Boost: 1.00×)</div>

    <div id="dimension-boost" class="dimension" onclick="buyDimensionBoost()">Dimension Boost: Reset everything for a 2x boost to all dimensions.<br>Requires 20 4th Dimensions<br>Current Boost: 1×</div>

    <div id="boost-points">You have 0.00 Boost Points, multiplying all dimensions by 1.00×</div>
    
    <div id="exponent-upgrade" class="dimension" onclick="buyExponentUpgrade()">Upgrade exponent of BP gain by +0.2 | Cost: 1.00e15 | Current Exponent: ^3.0</div>

    <button id="infinity-button" onclick="doInfinity()">Infinity</button>

    <div id="infinity-tab">
        <h2>Infinity Upgrades</h2>
        <div>You have <span id="infinity-points">0</span> Infinity Points</div>
        <button id="upgrade-tickspeed" onclick="buyInfinityUpgrade(1)">Tickspeed upgrades now boost 1.15x instead of 1.12x (Cost: 1 IP)</button>
        <button id="upgrade-max-dimensions" onclick="buyInfinityUpgrade(2)">You can now Buy Max dimensions (Cost: 2 IP)</button>
        <button id="upgrade-max-tickspeed" onclick="buyInfinityUpgrade(3)">You can now Buy Max tickspeed upgrades (Cost: 2 IP)</button>
    </div>

    <h2>Dimensions</h2>
    <div id="dimensions">
        <div id="dimension1" class="dimension disabled" onclick="buyDimension(1)">Dimension 1: 0 (Cost: 10 Antimatter)</div>
        <div id="dimension2" class="dimension disabled" onclick="buyDimension(2)">Dimension 2: 0 (Cost: 100 Antimatter)</div>
        <div id="dimension3" class="dimension disabled" onclick="buyDimension(3)">Dimension 3: 0 (Cost: 10,000 Antimatter)</div>
        <div id="dimension4" class="dimension disabled" onclick="buyDimension(4)">Dimension 4: 0 (Cost: 100,000,000 Antimatter)</div>
    </div>

    <script>
        // Load progress from cookie
        function loadProgress() {
            const savedData = document.cookie
                .split('; ')
                .find(row => row.startsWith('gameState='))
                ?.split('=')[1];

            if (savedData) {
                try {
                    const data = JSON.parse(decodeURIComponent(savedData));
                    antimatter = new Decimal(data.antimatter);
                    dimension1 = new Decimal(data.dimension1);
                    dimension2 = new Decimal(data.dimension2);
                    dimension3 = new Decimal(data.dimension3);
                    dimension4 = new Decimal(data.dimension4);
                    tickspeedCost = new Decimal(data.tickspeedCost);
                    tickspeedBoost = new Decimal(data.tickspeedBoost);
                    dimensionBoosts = new Decimal(data.dimensionBoosts);
                    boostPoints = new Decimal(data.boostPoints);
                    exponentUpgradeCost = new Decimal(data.exponentUpgradeCost);
                    exponentIncrease = new Decimal(data.exponentIncrease);
                    cost1 = new Decimal(data.cost1);
                    cost2 = new Decimal(data.cost2);
                    cost3 = new Decimal(data.cost3);
                    cost4 = new Decimal(data.cost4);
                    infinityPoints = new Decimal(data.infinityPoints || 0);
                    infinityUpgrades = data.infinityUpgrades || [];

                    lastAntimatter = antimatter;
                } catch (e) {
                    console.error("Error loading game state from cookie", e);
                }
            }
        }

        // Save progress to cookie
        function saveProgress() {
            const gameState = {
                antimatter: antimatter.toString(),
                dimension1: dimension1.toString(),
                dimension2: dimension2.toString(),
                dimension3: dimension3.toString(),
                dimension4: dimension4.toString(),
                tickspeedCost: tickspeedCost.toString(),
                tickspeedBoost: tickspeedBoost.toString(),
                dimensionBoosts: dimensionBoosts.toString(),
                boostPoints: boostPoints.toString(),
                exponentUpgradeCost: exponentUpgradeCost.toString(),
                exponentIncrease: exponentIncrease.toString(),
                cost1: cost1.toString(),
                cost2: cost2.toString(),
                cost3: cost3.toString(),
                cost4: cost4.toString(),
                infinityPoints: infinityPoints.toString(),
                infinityUpgrades: infinityUpgrades
            };

            document.cookie = `gameState=${encodeURIComponent(JSON.stringify(gameState))}; path=/; max-age=31536000`;
        }

        let antimatter = new Decimal(10);
        let dimension1 = new Decimal(0);
        let dimension2 = new Decimal(0);
        let dimension3 = new Decimal(0);
        let dimension4 = new Decimal(0);
        let tickspeedCost = new Decimal(1000);
        let tickspeedBoost = new Decimal(1);
        let dimensionBoosts = new Decimal(0);
        let boostPoints = new Decimal(0);
        let infinityPoints = new Decimal(0);
        let infinityUpgrades = [];

        let cost1 = new Decimal(10);
        let cost2 = new Decimal(100);
        let cost3 = new Decimal(10000);
        let cost4 = new Decimal(100000000);
        const factor1 = new Decimal(1.12);
        const factor2 = new Decimal(1.24);
        const factor3 = new Decimal(1.40);
        const factor4 = new Decimal(1.60);

        const boostFactor = new Decimal(1.12);
        const tickspeedFactor = new Decimal(4);
        let exponentUpgradeCost = new Decimal(1e15);
        let exponentIncrease = new Decimal(3);

        let lastAntimatter = antimatter;
        let antimatterPerSecond = new Decimal(0);

        loadProgress();

        function updateDisplay() {
            document.querySelector("#counter .number").textContent = antimatter.toExponential(2);
            antimatterPerSecond = dimension1.plus(dimension2.times(2)).plus(dimension3.times(3)).plus(dimension4.times(4)).times(tickspeedBoost).times(boostPoints.plus(1).times(0.2)).times(boostFactor);
            document.getElementById("am-per-second").textContent = `You are gaining ${antimatterPerSecond.toExponential(2)} antimatter per second.`;

            document.getElementById("dimension1").textContent = `Dimension 1: ${dimension1} (Cost: ${cost1.toExponential(2)} Antimatter)`;
            document.getElementById("dimension2").textContent = `Dimension 2: ${dimension2} (Cost: ${cost2.toExponential(2)} Antimatter)`;
            document.getElementById("dimension3").textContent = `Dimension 3: ${dimension3} (Cost: ${cost3.toExponential(2)} Antimatter)`;
            document.getElementById("dimension4").textContent = `Dimension 4: ${dimension4} (Cost: ${cost4.toExponential(2)} Antimatter)`;

            if (dimension4.gte(20)) {
                document.getElementById("dimension-boost").classList.remove("disabled");
            } else {
                document.getElementById("dimension-boost").classList.add("disabled");
            }

            if (antimatter.gte(infinityThreshold)) {
                document.getElementById("infinity-button").style.display = "block";
            } else {
                document.getElementById("infinity-button").style.display = "none";
            }

            if (infinityPoints.gte(1)) {
                document.getElementById("infinity-tab").style.display = "block";
                document.getElementById("infinity-points").textContent = infinityPoints.toString();
            }

            // Update Infinity Upgrades
            const upgrade1 = document.getElementById("upgrade-tickspeed");
            const upgrade2 = document.getElementById("upgrade-max-dimensions");
            const upgrade3 = document.getElementById("upgrade-max-tickspeed");

            if (infinityPoints.gte(1) && !infinityUpgrades.includes(1)) {
                upgrade1.classList.remove("disabled");
            } else {
                upgrade1.classList.add("disabled");
            }

            if (infinityPoints.gte(2) && !infinityUpgrades.includes(2)) {
                upgrade2.classList.remove("disabled");
            } else {
                upgrade2.classList.add("disabled");
            }

            if (infinityPoints.gte(2) && !infinityUpgrades.includes(3)) {
                upgrade3.classList.remove("disabled");
            } else {
                upgrade3.classList.add("disabled");
            }

            saveProgress();
        }

        function buyTickspeedUpgrade() {
            if (antimatter.gte(tickspeedCost)) {
                antimatter = antimatter.minus(tickspeedCost);
                tickspeedCost = tickspeedCost.times(tickspeedFactor);
                tickspeedBoost = tickspeedBoost.times(infinityUpgrades.includes(1) ? 1.15 : 1.12);
                updateDisplay();
            }
        }

        function buyDimensionBoost() {
            if (dimension4.gte(20)) {
                dimension1 = new Decimal(0);
                dimension2 = new Decimal(0);
                dimension3 = new Decimal(0);
                dimension4 = new Decimal(0);
                cost1 = new Decimal(10);
                cost2 = new Decimal(100);
                cost3 = new Decimal(10000);
                cost4 = new Decimal(100000000);
                dimensionBoosts = dimensionBoosts.plus(1);
                boostPoints = boostPoints.plus(dimensionBoosts.times(0.01));
                updateDisplay();
            }
        }

        function buyExponentUpgrade() {
            if (antimatter.gte(exponentUpgradeCost)) {
                antimatter = antimatter.minus(exponentUpgradeCost);
                exponentUpgradeCost = exponentUpgradeCost.times(1e9);
                exponentIncrease = exponentIncrease.plus(0.2);
                updateDisplay();
            }
        }

        const infinityThreshold = new Decimal("1e200");

        function doInfinity() {
            if (antimatter.gte(infinityThreshold)) {
                antimatter = new Decimal(10);
                dimension1 = new Decimal(0);
                dimension2 = new Decimal(0);
                dimension3 = new Decimal(0);
                dimension4 = new Decimal(0);
                tickspeedCost = new Decimal(1000);
                tickspeedBoost = new Decimal(1);
                dimensionBoosts = new Decimal(0);
                boostPoints = new Decimal(0);
                exponentUpgradeCost = new Decimal(1e15);
                exponentIncrease = new Decimal(3);
                cost1 = new Decimal(10);
                cost2 = new Decimal(100);
                cost3 = new Decimal(10000);
                cost4 = new Decimal(100000000);
                infinityPoints = infinityPoints.plus(1);
                updateDisplay();
            }
        }

        function buyInfinityUpgrade(upgradeId) {
            if (infinityUpgrades.includes(upgradeId)) return;

            switch (upgradeId) {
                case 1:
                    if (infinityPoints.gte(1)) {
                        infinityPoints = infinityPoints.minus(1);
                        infinityUpgrades.push(1);
                    }
                    break;
                case 2:
                    if (infinityPoints.gte(2)) {
                        infinityPoints = infinityPoints.minus(2);
                        infinityUpgrades.push(2);
                    }
                    break;
                case 3:
                    if (infinityPoints.gte(2)) {
                        infinityPoints = infinityPoints.minus(2);
                        infinityUpgrades.push(3);
                    }
                    break;
            }

            updateDisplay();
        }

        setInterval(() => {
            antimatter = antimatter.plus(antimatterPerSecond.div(20));
            updateDisplay();
        }, 50);

        updateDisplay();
    </script>
</body>
</html>
